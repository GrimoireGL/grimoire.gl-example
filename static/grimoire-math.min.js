!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(this,function(){return function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return t[a].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),u=a(r),o=n(16),l=a(o),i=n(7),s=a(i),c=n(6),f=a(c),h=n(17),M=a(h),m=n(8),d=a(m),v=n(9),F=a(v),y=n(10),S=a(y),w=n(18),x=a(w),I=n(11),p=a(I),D=n(4),b=a(D),g=n(5),E=a(g),k=n(2),_=a(k),A=n(19),z=a(A),q={AABB:u.default,Color3:l.default,Color4:s.default,Colors:f.default,GLM:M.default,Matrix:d.default,MatrixBase:F.default,Quaternion:S.default,Rectangle:x.default,Vector2:p.default,Vector3:b.default,Vector4:E.default,VectorBase:_.default},P=(0,z.default)();Object.assign(P||{},q),window.GrimoireJS.lib.math=q,e.default=P},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1;const a=new Function("return this")();n.SIMD_AVAILABLE=n.ARRAY_TYPE===a.Float32Array&&"SIMD"in a,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){n(this,t),this._magnitudeSquaredCache=-1,this._magnitudeCache=-1}return a(t,[{key:"magnitude",get:function(){return this._magnitudeCache<0&&(this._magnitudeCache=Math.sqrt(this.sqrMagnitude)),this._magnitudeCache}},{key:"ElementCount",get:function(){return 0}},{key:"sqrMagnitude",get:function(){if(this._magnitudeSquaredCache<0){for(var t=0,e=this.rawElements,n=0;n<this.ElementCount;n++)t+=e[n]*e[n];this._magnitudeSquaredCache=t}return this._magnitudeSquaredCache}}],[{key:"__elementEquals",value:function(t,e){if(t.ElementCount!==e.ElementCount)return!1;for(var n=0;n<t.ElementCount;n++)if(t.rawElements[n]!==e.rawElements[n])return!1;return!0}},{key:"__nearlyElementEquals",value:function(t,e){if(t.ElementCount!==e.ElementCount)return!1;for(var n=.01,a=0;a<t.ElementCount;a++)if(Math.abs(t.rawElements[a]-e.rawElements[a])>n)return!1;return!0}},{key:"__fromGenerationFunction",value:function(t,e,n){for(var a=new Float32Array(t.ElementCount),r=0;r<a.length;r++)a[r]=n(r,t,e);return a}},{key:"__parse",value:function(e){var n=/(-?)([\d,E\+\-\.]+)?(n)?\(([-\d,E\+\.\s]+)\)/g,a=n.exec(e);if(a){if(!a[4])throw new Error("The specified string '"+e+"' is not containing braced vector.");return{needNormalize:"n"===a[3],needNegate:"-"===a[1],coefficient:parseFloat(a[2]),elements:t._parseRawVector(a[4])}}return{needNormalize:!1,needNegate:!1,elements:t._parseRawVector(e),coefficient:void 0}}},{key:"_parseRawVector",value:function(t){for(var e=t.split(","),n=new Array(e.length),a=0;a<e.length;a++)if(n[a]=parseFloat(e[a]),isNaN(n[a]))throw new Error("Unexpected vector string "+t);return n}}]),t}();e.default=r},function(t,e,n){e.glMatrix=n(1),e.mat2=n(20),e.mat2d=n(21),e.mat3=n(12),e.mat4=n(22),e.quat=n(23),e.vec2=n(24),e.vec3=n(13),e.vec4=n(14)},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(2),s=a(i),c=n(3),f=function(t){function e(t,n,a){r(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return"undefined"==typeof n?(o.rawElements=t,u(o)):(o.rawElements=[t,n,a],o)}return o(e,t),l(e,null,[{key:"copy",value:function(t){return new e(t.X,t.Y,t.Z)}},{key:"dot",value:function(t,e){return c.vec3.dot(t.rawElements,e.rawElements)}},{key:"add",value:function(t,n){var a=c.vec3.create();return new e(c.vec3.add(a,t.rawElements,n.rawElements))}},{key:"subtract",value:function(t,n){var a=c.vec3.create();return new e(c.vec3.sub(a,t.rawElements,n.rawElements))}},{key:"multiply",value:function(t,n){var a=c.vec3.create();return new e(c.vec3.scale(a,n.rawElements,t))}},{key:"negate",value:function(t){return e.multiply(-1,t)}},{key:"equals",value:function(t,e){return s.default.__elementEquals(t,e)}},{key:"nearlyEquals",value:function(t,e){return s.default.__nearlyElementEquals(t,e)}},{key:"normalize",value:function(t){var n=c.vec3.create();return new e(c.vec3.normalize(n,t.rawElements))}},{key:"cross",value:function(t,n){var a=c.vec3.create();return new e(c.vec3.cross(a,t.rawElements,n.rawElements))}},{key:"min",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.min(e.rawElements[t],n.rawElements[t])}))}},{key:"max",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.max(e.rawElements[t],n.rawElements[t])}))}},{key:"angle",value:function(t,n){return Math.acos(e.dot(t.normalized,n.normalized))}},{key:"parse",value:function(t){var n=s.default.__parse(t),a=n.elements;if(a&&(1===a.length||3===a.length)){var r=void 0;return r=1===a.length?new e(a[0],a[0],a[0]):new e(a[0],a[1],a[2]),n.needNormalize&&(r=r.normalizeThis()),n.coefficient&&(r=r.multiplyWith(n.coefficient)),n.needNegate&&(r=r.negateThis()),r}}},{key:"XUnit",get:function(){return new e(1,0,0)}},{key:"YUnit",get:function(){return new e(0,1,0)}},{key:"ZUnit",get:function(){return new e(0,0,1)}},{key:"Zero",get:function(){return new e(0,0,0)}},{key:"One",get:function(){return new e(1,1,1)}}]),l(e,[{key:"normalizeThis",value:function(){return e.normalize(this)}},{key:"dotWith",value:function(t){return e.dot(this,t)}},{key:"addWith",value:function(t){return e.add(this,t)}},{key:"subtractWith",value:function(t){return e.subtract(this,t)}},{key:"multiplyWith",value:function(t){return e.multiply(t,this)}},{key:"negateThis",value:function(){return e.negate(this)}},{key:"equalWith",value:function(t){return e.equals(this,t)}},{key:"nearlyEqualWith",value:function(t){return e.nearlyEquals(this,t)}},{key:"crossWith",value:function(t){return e.cross(this,t)}},{key:"toString",value:function(){return"("+this.X+", "+this.Y+", "+this.Z+")"}},{key:"toDisplayString",value:function(){return"Vector3"+this.toString()}},{key:"normalized",get:function(){return this.multiplyWith(1/this.magnitude)}},{key:"X",get:function(){return this.rawElements[0]},set:function(t){this.rawElements[0]=+t}},{key:"Y",get:function(){return this.rawElements[1]},set:function(t){this.rawElements[1]=+t}},{key:"Z",get:function(){return this.rawElements[2]},set:function(t){this.rawElements[2]=+t}},{key:"ElementCount",get:function(){return 3}}]),e}(s.default);e.default=f},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(2),s=a(i),c=n(3),f=function(t){function e(t,n,a,o){r(this,e);var l=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return"undefined"==typeof n?(l.rawElements=t,u(l)):(l.rawElements=[t,n,a,o],l)}return o(e,t),l(e,null,[{key:"copy",value:function(t){return new e(t.X,t.Y,t.Z,t.W)}},{key:"dot",value:function(t,e){return c.vec4.dot(t.rawElements,e.rawElements)}},{key:"add",value:function(t,n){var a=c.vec4.create();return new e(c.vec4.add(a,t.rawElements,n.rawElements))}},{key:"subtract",value:function(t,n){var a=c.vec4.create();return new e(c.vec4.sub(a,t.rawElements,n.rawElements))}},{key:"multiply",value:function(t,n){var a=c.vec4.create();return new e(c.vec4.scale(a,n.rawElements,t))}},{key:"negate",value:function(t){return e.multiply(-1,t)}},{key:"equals",value:function(t,e){return s.default.__elementEquals(t,e)}},{key:"nearlyEquals",value:function(t,e){return s.default.__nearlyElementEquals(t,e)}},{key:"normalize",value:function(t){var n=c.vec4.create();return new e(c.vec4.normalize(n,t.rawElements))}},{key:"min",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.min(e.rawElements[t],n.rawElements[t])}))}},{key:"max",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.max(e.rawElements[t],n.rawElements[t])}))}},{key:"angle",value:function(t,n){return Math.acos(e.dot(t.normalized,n.normalized))}},{key:"parse",value:function(t){var n=s.default.__parse(t),a=n.elements;if(a&&(1===a.length||4===a.length)){var r=void 0;return r=1===a.length?new e(a[0],a[0],a[0],a[0]):new e(a[0],a[1],a[2],a[3]),n.needNormalize&&(r=r.normalizeThis()),n.coefficient&&(r=r.multiplyWith(n.coefficient)),n.needNegate&&(r=r.negateThis()),r}}},{key:"XUnit",get:function(){return new e(1,0,0,0)}},{key:"YUnit",get:function(){return new e(0,1,0,0)}},{key:"ZUnit",get:function(){return new e(0,0,1,0)}},{key:"WUnit",get:function(){return new e(0,0,0,1)}},{key:"One",get:function(){return new e(1,1,1,1)}},{key:"Zero",get:function(){return new e(0,0,0,0)}}]),l(e,[{key:"normalizeThis",value:function(){return e.normalize(this)}},{key:"dotWith",value:function(t){return e.dot(this,t)}},{key:"addWith",value:function(t){return e.add(this,t)}},{key:"subtractWith",value:function(t){return e.subtract(this,t)}},{key:"multiplyWith",value:function(t){return e.multiply(t,this)}},{key:"negateThis",value:function(){return e.negate(this)}},{key:"equalWith",value:function(t){return e.equals(this,t)}},{key:"nearlyEqualWith",value:function(t){return e.nearlyEquals(this,t)}},{key:"toString",value:function(){return"("+this.X+", "+this.Y+", "+this.Z+", "+this.W+")"}},{key:"toDisplayString",value:function(){return"Vector4"+this.toString()}},{key:"normalized",get:function(){return this.multiplyWith(1/this.magnitude)}},{key:"X",get:function(){return this.rawElements[0]},set:function(t){this.rawElements[0]=+t}},{key:"Y",get:function(){return this.rawElements[1]},set:function(t){this.rawElements[1]=+t}},{key:"Z",get:function(){return this.rawElements[2]},set:function(t){this.rawElements[2]=+t}},{key:"W",get:function(){return this.rawElements[3]},set:function(t){this.rawElements[3]=+t}},{key:"ElementCount",get:function(){return 4}}]),e}(s.default);e.default=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(2),s=a(i),c=n(5),f=a(c),h=n(6),M=a(h),m=function(t){function e(t,n,a,o){r(this,e);var l=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return l.rawElements=[t,n,a,o],l}return o(e,t),l(e,null,[{key:"internalParse",value:function(t,n,a){if(n&&M.default[t])return e.internalParse(M.default[t],!1);var r=void 0;if(n&&(r=t.match(/^#([0-9a-f]{3})$/i))){var u=r[1];return new e(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,1)}if(n&&(r=t.match(/^#([0-9a-f]{4})$/i))){var o=r[1];return new e(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,parseInt(o.charAt(3),16)/15)}if(r=t.match(/^#([0-9a-f]{6})$/i)){var l=r[1];return new e(parseInt(l.substr(0,2),16)/255,parseInt(l.substr(2,2),16)/255,parseInt(l.substr(4,2),16)/255,1)}if(n&&(r=t.match(/^#([0-9a-f]{8})$/i))){var i=r[1];return new e(parseInt(i.substr(0,2),16)/255,parseInt(i.substr(2,2),16)/255,parseInt(i.substr(4,2),16)/255,parseInt(i.substr(6,2),16)/255)}var s=t.match(/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i);if(s&&n)return new e(parseInt(s[1],10)/255,parseInt(s[2],10)/255,parseInt(s[3],10)/255,1);if(s=t.match(/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*(0|1|0\.\d+)\s*\)\s*$/i),s&&n){var c=parseInt(s[4],10);return c=c<=1?c:c/255,new e(parseInt(s[1],10)/255,parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10))}if(!a)throw new Error("Unexpected color string"+t)}},{key:"parse",value:function(t,n){return e.internalParse(t,!0,n)}},{key:"equals",value:function(t,e){return s.default.__elementEquals(t,e)}}]),l(e,[{key:"toVector",value:function(){return new f.default(this.R,this.G,this.B,this.A)}},{key:"equalWith",value:function(t){return e.equals(t,this)}},{key:"toString",value:function(){return"rgba("+Math.round(255*this.R)+", "+Math.round(255*this.G)+", "+Math.round(255*this.B)+", "+Math.round(255*this.A)+")"}},{key:"toDisplayString",value:function(){var t="#";return t+=Math.round(255*this.R).toString(16).toUpperCase(),t+=Math.round(255*this.G).toString(16).toUpperCase(),t+=Math.round(255*this.B).toString(16).toUpperCase(),t+=Math.round(255*this.A).toString(16).toUpperCase(),"Color4("+this.R+", "+this.G+", "+this.B+", "+this.A+", "+t+")"}},{key:"R",get:function(){return this.rawElements[0]}},{key:"G",get:function(){return this.rawElements[1]}},{key:"B",get:function(){return this.rawElements[2]}},{key:"A",get:function(){return this.rawElements[3]}},{key:"ElementCount",get:function(){return 4}}]),e}(s.default);e.default=m},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(9),s=a(i),c=n(4),f=a(c),h=n(5),M=a(h),m=n(10),d=a(m),v=n(3),F=function(t){function e(t){r(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t?n.rawElements=t:n.rawElements=v.mat4.create(),n}return o(e,t),l(e,null,[{key:"zero",value:function(){return new e([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}},{key:"identity",value:function(){return new e(v.mat4.create())}},{key:"fromElements",value:function(t,n,a,r,u,o,l,i,s,c,f,h,M,m,d,v){return new e([t,u,s,M,n,o,c,m,a,l,f,d,r,i,h,v])}},{key:"fromFunc",value:function(t){return new e([t(0,0),t(1,0),t(2,0),t(3,0),t(0,1),t(1,1),t(2,1),t(3,1),t(0,2),t(1,2),t(2,2),t(3,2),t(0,3),t(1,3),t(2,3),t(3,3)])}},{key:"equals",value:function(t,n){return e.__elementEquals(t,n)}},{key:"add",value:function(t,n){for(var a=v.mat4.create(),r=0;r<16;r++)a[r]=t.rawElements[r]+n.rawElements[r];return new e(a)}},{key:"subtract",value:function(t,n){return e.add(t,e.negate(n))}},{key:"scalarMultiply",value:function(t,n){var a=v.mat4.create();return v.mat4.multiply(a,[t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,t],n.rawElements),new e(a)}},{key:"multiply",value:function(t,n){var a=v.mat4.create();return new e(v.mat4.mul(a,t.rawElements,n.rawElements))}},{key:"trs",value:function(t,n,a){var r=v.mat4.create(),u=v.mat4.create();return v.mat4.mul(r,v.mat4.translate(r,v.mat4.create(),t.rawElements),v.mat4.fromQuat(u,n.rawElements)),v.mat4.scale(r,r,a.rawElements),new e(r)}},{key:"negate",value:function(t){return this.scalarMultiply(-1,t)}},{key:"transpose",value:function(t){var n=v.mat4.create();return new e(v.mat4.transpose(n,t.rawElements))}},{key:"transformPoint",value:function(t,e){var n=v.vec3.create();return v.vec3.transformMat4(n,e.rawElements,t.rawElements),new f.default(n)}},{key:"transformNormal",value:function(t,e){var n=v.vec4.create(),a=v.vec4.create();return a[0]=e.X,a[1]=e.Y,a[2]=e.Z,a[3]=0,v.vec4.transformMat4(n,a,t.rawElements),new f.default(n[0],n[1],n[2])}},{key:"transform",value:function(t,e){var n=v.vec4.create(),a=v.vec4.create();return a[0]=e.X,a[1]=e.Y,a[2]=e.Z,a[3]=e.W,v.vec4.transformMat4(n,a,t.rawElements),new M.default(n[0],n[1],n[2],n[3])}},{key:"determinant",value:function(t){return v.mat4.determinant(t.rawElements)}},{key:"inverse",value:function(t){var n=v.mat4.create();return new e(v.mat4.invert(n,t.rawElements))}},{key:"translate",value:function(t){var n=v.mat4.create();return v.mat4.translate(n,n,t.rawElements),new e(n)}},{key:"scale",value:function(t){var n=v.mat4.create();return v.mat4.scale(n,n,t.rawElements),new e(n)}},{key:"rotateX",value:function(t){var n=v.mat4.create();return v.mat4.rotateX(n,n,t),new e(n)}},{key:"rotateY",value:function(t){var n=v.mat4.create();return v.mat4.rotateY(n,n,t),new e(n)}},{key:"rotateZ",value:function(t){var n=v.mat4.create();return v.mat4.rotateZ(n,n,t),new e(n)}},{key:"rotationQuaternion",value:function(t){var n=v.quat.create(),a=v.mat4.create();return v.quat.normalize(n,t.rawElements),v.mat4.fromQuat(a,n),new e(a)}},{key:"frustum",value:function(t,n,a,r,u,o){var l=v.mat4.create();return v.mat4.frustum(l,t,n,a,r,u,o),new e(l)}},{key:"ortho",value:function(t,n,a,r,u,o){var l=v.mat4.create();return v.mat4.ortho(l,t,n,a,r,u,o),new e(l)}},{key:"perspective",value:function(t,n,a,r){var u=v.mat4.create();return v.mat4.perspective(u,t,n,a,r),new e(u)}},{key:"lookAt",value:function(t,n,a){var r=v.mat4.create();return v.mat4.lookAt(r,t.rawElements,n.rawElements,a.rawElements),new e(r)}}]),l(e,[{key:"getAt",value:function(t,e){return this.rawElements[4*e+t]}},{key:"setAt",value:function(t,e,n){this.rawElements[4*e+t]=n}},{key:"getBySingleIndex",value:function(t){return this.rawElements[t]}},{key:"getColmun",value:function(t){return new M.default(this.rawElements[4*t],this.rawElements[4*t+1],this.rawElements[4*t+2],this.rawElements[4*t+3])}},{key:"getRow",value:function(t){return new M.default(this.rawElements[t],this.rawElements[t+4],this.rawElements[t+8],this.rawElements[t+12])}},{key:"multiplyWith",value:function(t){return e.multiply(this,t)}},{key:"equalWith",value:function(t){return e.equals(t,this)}},{key:"getTranslation",value:function(){var t=[0,0,0];return v.mat4.getTranslation(t,this.rawElements),new f.default(t)}},{key:"getScaling",value:function(){var t=[0,0,0];return v.mat4.getScaling(t,this.rawElements),new f.default(t)}},{key:"getRotation",value:function(){var t=[0,0,0,0];return v.mat4.getRotation(t,this.rawElements),new d.default(t)}},{key:"toString",value:function(){return"|"+this.getBySingleIndex(0)+" "+this.getBySingleIndex(4)+" "+this.getBySingleIndex(8)+" "+this.getBySingleIndex(12)+"|\n\n                 |"+this.getBySingleIndex(1)+" "+this.getBySingleIndex(5)+" "+this.getBySingleIndex(9)+" "+this.getBySingleIndex(13)+"|\n\n                 |"+this.getBySingleIndex(2)+" "+this.getBySingleIndex(6)+" "+this.getBySingleIndex(10)+" "+this.getBySingleIndex(14)+"|\n\n                 |"+this.getBySingleIndex(3)+" "+this.getBySingleIndex(7)+" "+this.getBySingleIndex(11)+" "+this.getBySingleIndex(15)+"|"}},{key:"ElementCount",get:function(){return 16}},{key:"RowCount",get:function(){return 4}},{key:"ColmunCount",get:function(){return 4}}]),e}(s.default);e.default=F},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),r=function(){function t(){n(this,t)}return a(t,[{key:"getAt",value:function(t,e){throw new Error("Not implemented")}},{key:"getBySingleIndex",value:function(t){throw new Error("Not implemented")}},{key:"RowCount",get:function(){return 0}},{key:"ColmunCount",get:function(){return 0}}],[{key:"__elementEquals",value:function(t,e){if(t.RowCount!==e.RowCount||t.ColmunCount!==e.ColmunCount)return!1;for(var n=t.RowCount*e.ColmunCount,a=0;a<n;a++)if(t.getBySingleIndex(a)!==e.getBySingleIndex(a))return!1;return!0}}]),t}();e.default=r},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(4),l=a(o),i=n(3),s=n(8),c=a(s),f=function(){function t(e){r(this,t),this.rawElements=e}return u(t,null,[{key:"equals",value:function(t,e){for(var n=0;n<4;n++)if(t.rawElements[n]!==e.rawElements[n])return!1;return!0}},{key:"add",value:function(e,n){var a=i.quat.create();return new t(i.quat.add(a,e.rawElements,n.rawElements))}},{key:"multiply",value:function(e,n){var a=i.quat.create();return new t(i.quat.mul(a,e.rawElements,n.rawElements))}},{key:"angleAxis",value:function(e,n){var a=i.vec3.create();a[0]=n.X,a[1]=n.Y,a[2]=n.Z;var r=i.quat.create();return new t(i.quat.setAxisAngle(r,a,+e))}},{key:"euler",value:function(e,n,a){return t.multiply(t.angleAxis(a,l.default.ZUnit),t.multiply(t.angleAxis(e,l.default.XUnit),t.angleAxis(n,l.default.YUnit)))}},{key:"eulerXYZ",value:function(e,n,a){return t.multiply(t.angleAxis(a,l.default.ZUnit),t.multiply(t.angleAxis(n,l.default.YUnit),t.angleAxis(e,l.default.XUnit)))}},{key:"slerp",value:function(e,n,a){var r=i.quat.create();return new t(i.quat.slerp(r,e.rawElements,n.rawElements,+a))}},{key:"angle",value:function(e,n){var a=t.multiply(n,e.inverse());return a=a.normalize(),2*Math.acos(a.W)}},{key:"fromToRotation",value:function(e,n){var a=l.default.cross(e.normalized,n.normalized),r=l.default.dot(e.normalized,n.normalized);return t.angleAxis(r,a)}},{key:"lookRotation",value:function(e,n){n=n||l.default.YUnit;var a=e.normalized,r=l.default.cross(n,a).normalized,u=l.default.cross(a,r),o=r.X,i=r.Y,s=r.Z,c=u.X,f=u.Y,h=u.Z,M=a.X,m=a.Y,d=a.Z,v=o+f+d;if(v>0){var F=Math.sqrt(1+v);return new t([.5*(h-m)/F,.5*(M-s)/F,.5*(i-c)/F,F/2])}if(o>=f&&o>=d){var y=Math.sqrt(1+o-f-d);return new t([.5*(i+c)/y,.5*(s+M)/y,.5*(h-m)/y,y/2])}if(f>d){var S=Math.sqrt(1+f-o-d);return new t([0*(c+i),5/S,.5*S,.5*(m+h)/S,.5*(M-s)/S])}var w=Math.sqrt(1+d-o-f);return new t([.5*(M+s)/w,.5*(m+h)/w,.5*w,.5*(i-c)/w])}},{key:"Identity",get:function(){return new t(i.quat.create())}}]),u(t,[{key:"equalWith",value:function(e){return t.equals(this,e)}},{key:"normalize",value:function(){var e=i.quat.create();return new t(i.quat.normalize(e,this.rawElements))}},{key:"inverse",value:function(){var e=i.quat.create();return new t(i.quat.invert(e,this.rawElements))}},{key:"toAngleAxisString",value:function(){var t=2*Math.acos(this.W),e=Math.sqrt(1-this.W*this.W);return 180!==t&&0!==t?"axis("+t+","+this.X/e+","+this.Y/e+","+this.Z/e+")":0===t?"axis("+t+",0,1,0)":"axis(180d,"+this.X+","+this.Y+","+this.Z+")"}},{key:"toString",value:function(){return this.toAngleAxisString()}},{key:"factoringQuaternionZXY",value:function(){var t={x:0,y:0,z:0},e=c.default.rotationQuaternion(this),n=e.rawElements[6];return Math.abs(n)<.9999?(t.x=Math.asin(n),t.z=Math.atan2(-e.rawElements[4],e.rawElements[5]),t.y=Math.atan2(-e.rawElements[2],e.rawElements[10])):(t.y=0,t.x=Math.PI/2*n,t.z=Math.atan2(e.rawElements[1],e.rawElements[0])),t}},{key:"factoringQuaternionXYZ",value:function(){var t={x:0,y:0,z:0},e=c.default.rotationQuaternion(this),n=-e.rawElements[2];return Math.abs(n)<.9999?(t.x=Math.atan2(e.rawElements[6],e.rawElements[10]),t.y=Math.asin(n),t.z=Math.atan2(e.rawElements[1],e.rawElements[0])):(t.x=0,t.y=Math.PI/2*n,t.z=Math.atan2(-e.rawElements[4],e.rawElements[5])),t}},{key:"eularAngles",get:function(){var t=this.factoringQuaternionZXY();return new l.default(t.x,t.y,t.z)},set:function(e){this.rawElements=t.euler(e.X,e.Y,e.Z).rawElements}},{key:"X",get:function(){return this.rawElements[0]}},{key:"Y",get:function(){return this.rawElements[1]}},{key:"Z",get:function(){return this.rawElements[2]}},{key:"W",get:function(){return this.rawElements[3]}},{key:"ImaginaryPart",get:function(){return new l.default(this.X,this.Y,this.Z)}},{key:"Conjugate",get:function(){var e=i.quat.create();return new t(i.quat.conjugate(e,this.rawElements))}},{key:"Length",get:function(){return i.quat.len(this.rawElements)}}]),t}();e.default=f},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(2),s=a(i),c=n(3),f=function(t){function e(t,n){r(this,e);var a=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return"undefined"==typeof n?(a.rawElements=t,u(a)):(a.rawElements=[t,n],a)}return o(e,t),l(e,null,[{key:"copy",value:function(t){return new e(t.X,t.Y)}},{key:"parse",value:function(t){var n=s.default.__parse(t),a=n.elements;if(1===a.length||2===a.length){var r=void 0;return r=1===a.length?new e(a[0],a[0]):new e(a[0],a[1]),n.needNormalize&&(r=r.normalizeThis()),n.coefficient&&(r=r.multiplyWith(n.coefficient)),n.needNegate&&(r=r.negateThis()),r}}},{key:"dot",value:function(t,e){return c.vec2.dot(t.rawElements,e.rawElements)}},{key:"add",value:function(t,n){var a=c.vec2.create();return new e(c.vec2.add(a,t.rawElements,n.rawElements))}},{key:"subtract",value:function(t,n){var a=c.vec2.create();return new e(c.vec2.sub(a,t.rawElements,n.rawElements))}},{key:"multiply",value:function(t,n){var a=c.vec2.create();return new e(c.vec2.scale(a,n.rawElements,t));
}},{key:"negate",value:function(t){return e.multiply(-1,t)}},{key:"equals",value:function(t,e){return s.default.__elementEquals(t,e)}},{key:"nearlyEquals",value:function(t,e){return s.default.__nearlyElementEquals(t,e)}},{key:"normalize",value:function(t){var n=c.vec2.create();return new e(c.vec2.normalize(n,t.rawElements))}},{key:"min",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.min(e.rawElements[t],n.rawElements[t])}))}},{key:"max",value:function(t,n){return new e(s.default.__fromGenerationFunction(t,n,function(t,e,n){return Math.max(e.rawElements[t],n.rawElements[t])}))}},{key:"angle",value:function(t,n){return Math.acos(e.dot(t.normalized,n.normalized))}},{key:"XUnit",get:function(){return new e(1,0)}},{key:"YUnit",get:function(){return new e(0,1)}},{key:"One",get:function(){return new e(1,1)}},{key:"Zero",get:function(){return new e(0,0)}}]),l(e,[{key:"dotWith",value:function(t){return e.dot(this,t)}},{key:"addWith",value:function(t){return e.add(this,t)}},{key:"subtractWith",value:function(t){return e.subtract(t,this)}},{key:"multiplyWith",value:function(t){return e.multiply(t,this)}},{key:"negateThis",value:function(){return e.negate(this)}},{key:"equalWith",value:function(t){return e.equals(this,t)}},{key:"nearlyEqualWith",value:function(t){return e.nearlyEquals(this,t)}},{key:"normalizeThis",value:function(){return e.normalize(this)}},{key:"toString",value:function(){return"("+this.X+", "+this.Y+")"}},{key:"toDisplayString",value:function(){return"Vector2"+this.toString()}},{key:"normalized",get:function(){return this.multiplyWith(1/this.magnitude)}},{key:"X",get:function(){return this.rawElements[0]},set:function(t){this.rawElements[0]=+t}},{key:"Y",get:function(){return this.rawElements[1]},set:function(t){this.rawElements[1]=+t}},{key:"ElementCount",get:function(){return 2}}]),e}(s.default);e.default=f},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},r.clone=function(t){var e=new a.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromValues=function(t,e,n,r,u,o,l,i,s){var c=new a.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=u,c[5]=o,c[6]=l,c[7]=i,c[8]=s,c},r.set=function(t,e,n,a,r,u,o,l,i,s){return t[0]=e,t[1]=n,t[2]=a,t[3]=r,t[4]=u,t[5]=o,t[6]=l,t[7]=i,t[8]=s,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.transpose=function(t,e){if(t===e){var n=e[1],a=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=a,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},r.invert=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=e[6],s=e[7],c=e[8],f=c*o-l*s,h=-c*u+l*i,M=s*u-o*i,m=n*f+a*h+r*M;return m?(m=1/m,t[0]=f*m,t[1]=(-c*a+r*s)*m,t[2]=(l*a-r*o)*m,t[3]=h*m,t[4]=(c*n-r*i)*m,t[5]=(-l*n+r*u)*m,t[6]=M*m,t[7]=(-s*n+a*i)*m,t[8]=(o*n-a*u)*m,t):null},r.adjoint=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=e[6],s=e[7],c=e[8];return t[0]=o*c-l*s,t[1]=r*s-a*c,t[2]=a*l-r*o,t[3]=l*i-u*c,t[4]=n*c-r*i,t[5]=r*u-n*l,t[6]=u*s-o*i,t[7]=a*i-n*s,t[8]=n*o-a*u,t},r.determinant=function(t){var e=t[0],n=t[1],a=t[2],r=t[3],u=t[4],o=t[5],l=t[6],i=t[7],s=t[8];return e*(s*u-o*i)+n*(-s*r+o*l)+a*(i*r-u*l)},r.multiply=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=e[6],c=e[7],f=e[8],h=n[0],M=n[1],m=n[2],d=n[3],v=n[4],F=n[5],y=n[6],S=n[7],w=n[8];return t[0]=h*a+M*o+m*s,t[1]=h*r+M*l+m*c,t[2]=h*u+M*i+m*f,t[3]=d*a+v*o+F*s,t[4]=d*r+v*l+F*c,t[5]=d*u+v*i+F*f,t[6]=y*a+S*o+w*s,t[7]=y*r+S*l+w*c,t[8]=y*u+S*i+w*f,t},r.mul=r.multiply,r.translate=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=e[6],c=e[7],f=e[8],h=n[0],M=n[1];return t[0]=a,t[1]=r,t[2]=u,t[3]=o,t[4]=l,t[5]=i,t[6]=h*a+M*o+s,t[7]=h*r+M*l+c,t[8]=h*u+M*i+f,t},r.rotate=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=e[6],c=e[7],f=e[8],h=Math.sin(n),M=Math.cos(n);return t[0]=M*a+h*o,t[1]=M*r+h*l,t[2]=M*u+h*i,t[3]=M*o-h*a,t[4]=M*l-h*r,t[5]=M*i-h*u,t[6]=s,t[7]=c,t[8]=f,t},r.scale=function(t,e,n){var a=n[0],r=n[1];return t[0]=a*e[0],t[1]=a*e[1],t[2]=a*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},r.fromRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=n+n,l=a+a,i=r+r,s=n*o,c=a*o,f=a*l,h=r*o,M=r*l,m=r*i,d=u*o,v=u*l,F=u*i;return t[0]=1-f-m,t[3]=c-F,t[6]=h+v,t[1]=c+F,t[4]=1-s-m,t[7]=M-d,t[2]=h-v,t[5]=M+d,t[8]=1-s-f,t},r.normalFromMat4=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],d=e[13],v=e[14],F=e[15],y=n*l-a*o,S=n*i-r*o,w=n*s-u*o,x=a*i-r*l,I=a*s-u*l,p=r*s-u*i,D=c*d-f*m,b=c*v-h*m,g=c*F-M*m,E=f*v-h*d,k=f*F-M*d,_=h*F-M*v,A=y*_-S*k+w*E+x*g-I*b+p*D;return A?(A=1/A,t[0]=(l*_-i*k+s*E)*A,t[1]=(i*g-o*_-s*b)*A,t[2]=(o*k-l*g+s*D)*A,t[3]=(r*k-a*_-u*E)*A,t[4]=(n*_-r*g+u*b)*A,t[5]=(a*g-n*k-u*D)*A,t[6]=(d*p-v*I+F*x)*A,t[7]=(v*w-m*p-F*S)*A,t[8]=(m*I-d*w+F*y)*A,t):null},r.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},r.multiplyScalarAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t[3]=e[3]+n[3]*a,t[4]=e[4]+n[4]*a,t[5]=e[5]+n[5]*a,t[6]=e[6]+n[6]*a,t[7]=e[7]+n[7]*a,t[8]=e[8]+n[8]*a,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=t[3],l=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=e[0],M=e[1],m=e[2],d=e[3],v=e[4],F=e[5],y=e[6],S=e[7],w=e[8];return Math.abs(n-h)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-M)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(u-m)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(o-d)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(l-v)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(i-F)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(s-y)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-S)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-w)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))},t.exports=r},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new a.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,n){var r=new a.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,n,a){return t[0]=e,t[1]=n,t[2]=a,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},r.scaleAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t},r.distance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+a*a+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1],r=e[2]-t[2];return n*n+a*a+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],a=t[2];return Math.sqrt(e*e+n*n+a*a)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],a=t[2];return e*e+n*n+a*a},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},r.normalize=function(t,e){var n=e[0],a=e[1],r=e[2],u=n*n+a*a+r*r;return u>0&&(u=1/Math.sqrt(u),t[0]=e[0]*u,t[1]=e[1]*u,t[2]=e[2]*u),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=n[0],l=n[1],i=n[2];return t[0]=r*i-u*l,t[1]=u*o-a*i,t[2]=a*l-r*o,t},r.lerp=function(t,e,n,a){var r=e[0],u=e[1],o=e[2];return t[0]=r+a*(n[0]-r),t[1]=u+a*(n[1]-u),t[2]=o+a*(n[2]-o),t},r.hermite=function(t,e,n,a,r,u){var o=u*u,l=o*(2*u-3)+1,i=o*(u-2)+u,s=o*(u-1),c=o*(3-2*u);return t[0]=e[0]*l+n[0]*i+a[0]*s+r[0]*c,t[1]=e[1]*l+n[1]*i+a[1]*s+r[1]*c,t[2]=e[2]*l+n[2]*i+a[2]*s+r[2]*c,t},r.bezier=function(t,e,n,a,r,u){var o=1-u,l=o*o,i=u*u,s=l*o,c=3*u*l,f=3*i*o,h=i*u;return t[0]=e[0]*s+n[0]*c+a[0]*f+r[0]*h,t[1]=e[1]*s+n[1]*c+a[1]*f+r[1]*h,t[2]=e[2]*s+n[2]*c+a[2]*f+r[2]*h,t},r.random=function(t,e){e=e||1;var n=2*a.RANDOM()*Math.PI,r=2*a.RANDOM()-1,u=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*u,t[1]=Math.sin(n)*u,t[2]=r*e,t},r.transformMat4=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=n[3]*a+n[7]*r+n[11]*u+n[15];return o=o||1,t[0]=(n[0]*a+n[4]*r+n[8]*u+n[12])/o,t[1]=(n[1]*a+n[5]*r+n[9]*u+n[13])/o,t[2]=(n[2]*a+n[6]*r+n[10]*u+n[14])/o,t},r.transformMat3=function(t,e,n){var a=e[0],r=e[1],u=e[2];return t[0]=a*n[0]+r*n[3]+u*n[6],t[1]=a*n[1]+r*n[4]+u*n[7],t[2]=a*n[2]+r*n[5]+u*n[8],t},r.transformQuat=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=n[0],l=n[1],i=n[2],s=n[3],c=s*a+l*u-i*r,f=s*r+i*a-o*u,h=s*u+o*r-l*a,M=-o*a-l*r-i*u;return t[0]=c*s+M*-o+f*-i-h*-l,t[1]=f*s+M*-l+h*-o-c*-i,t[2]=h*s+M*-i+c*-l-f*-o,t},r.rotateX=function(t,e,n,a){var r=[],u=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],u[0]=r[0],u[1]=r[1]*Math.cos(a)-r[2]*Math.sin(a),u[2]=r[1]*Math.sin(a)+r[2]*Math.cos(a),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},r.rotateY=function(t,e,n,a){var r=[],u=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],u[0]=r[2]*Math.sin(a)+r[0]*Math.cos(a),u[1]=r[1],u[2]=r[2]*Math.cos(a)-r[0]*Math.sin(a),t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},r.rotateZ=function(t,e,n,a){var r=[],u=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],u[0]=r[0]*Math.cos(a)-r[1]*Math.sin(a),u[1]=r[0]*Math.sin(a)+r[1]*Math.cos(a),u[2]=r[2],t[0]=u[0]+n[0],t[1]=u[1]+n[1],t[2]=u[2]+n[2],t},r.forEach=function(){var t=r.create();return function(e,n,a,r,u,o){var l,i;for(n||(n=3),a||(a=0),i=r?Math.min(r*n+a,e.length):e.length,l=a;l<i;l+=n)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],u(t,t,o),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2];return e}}(),r.angle=function(t,e){var n=r.fromValues(t[0],t[1],t[2]),a=r.fromValues(e[0],e[1],e[2]);r.normalize(n,n),r.normalize(a,a);var u=r.dot(n,a);return u>1?0:u<-1?Math.PI:Math.acos(u)},r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=e[0],l=e[1],i=e[2];return Math.abs(n-o)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-l)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(u-i)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(i))},t.exports=r},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},r.clone=function(t){var e=new a.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.fromValues=function(t,e,n,r){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.set=function(t,e,n,a,r){return t[0]=e,t[1]=n,t[2]=a,t[3]=r,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},r.scaleAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t[3]=e[3]+n[3]*a,t},r.distance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1],r=e[2]-t[2],u=e[3]-t[3];return Math.sqrt(n*n+a*a+r*r+u*u)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1],r=e[2]-t[2],u=e[3]-t[3];return n*n+a*a+r*r+u*u},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],a=t[2],r=t[3];return Math.sqrt(e*e+n*n+a*a+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],a=t[2],r=t[3];return e*e+n*n+a*a+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},r.normalize=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=n*n+a*a+r*r+u*u;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=a*o,t[2]=r*o,t[3]=u*o),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},r.lerp=function(t,e,n,a){var r=e[0],u=e[1],o=e[2],l=e[3];return t[0]=r+a*(n[0]-r),t[1]=u+a*(n[1]-u),t[2]=o+a*(n[2]-o),t[3]=l+a*(n[3]-l),t},r.random=function(t,e){return e=e||1,t[0]=a.RANDOM(),t[1]=a.RANDOM(),t[2]=a.RANDOM(),t[3]=a.RANDOM(),r.normalize(t,t),r.scale(t,t,e),t},r.transformMat4=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3];return t[0]=n[0]*a+n[4]*r+n[8]*u+n[12]*o,t[1]=n[1]*a+n[5]*r+n[9]*u+n[13]*o,t[2]=n[2]*a+n[6]*r+n[10]*u+n[14]*o,t[3]=n[3]*a+n[7]*r+n[11]*u+n[15]*o,t},r.transformQuat=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=n[0],l=n[1],i=n[2],s=n[3],c=s*a+l*u-i*r,f=s*r+i*a-o*u,h=s*u+o*r-l*a,M=-o*a-l*r-i*u;return t[0]=c*s+M*-o+f*-i-h*-l,t[1]=f*s+M*-l+h*-o-c*-i,t[2]=h*s+M*-i+c*-l-f*-o,t[3]=e[3],t},r.forEach=function(){var t=r.create();return function(e,n,a,r,u,o){var l,i;for(n||(n=4),a||(a=0),i=r?Math.min(r*n+a,e.length):e.length,l=a;l<i;l+=n)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],t[3]=e[l+3],u(t,t,o),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2],e[l+3]=t[3];return e}}(),r.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=t[3],l=e[0],i=e[1],s=e[2],c=e[3];return Math.abs(n-l)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-s)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-c)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},t.exports=r},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(4),l=a(o),i=function(){function t(e){var n=this;r(this,t),e&&e.forEach(function(t){return n.expand(t)})}return u(t,[{key:"expand",value:function(t){return null==this.pointLBF&&(this.pointLBF=l.default.copy(t),this.pointRTN=l.default.copy(t)),this.pointLBF=l.default.min(t,this.pointLBF),this.pointRTN=l.default.max(t,this.pointRTN),this._center=null,this}},{key:"clear",value:function(){this.pointLBF=null,this.pointRTN=null,this._center=null}},{key:"Width",get:function(){return Math.abs(this.pointLBF.X-this.pointRTN.X)}},{key:"Height",get:function(){return Math.abs(this.pointLBF.Y-this.pointRTN.Y)}},{key:"Distance",get:function(){return Math.abs(this.pointLBF.Z-this.pointRTN.Z)}},{key:"Center",get:function(){return this._center?this._center:this._center=l.default.add(this.pointLBF,this.pointRTN).multiplyWith(.5)}}]),t}();e.default=i},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=n(2),s=a(i),c=n(4),f=a(c),h=n(7),M=a(h),m=n(5),d=a(m),v=n(6),F=a(v),y=function(t){function e(t,n,a){r(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.rawElements=[t,n,a],o}return o(e,t),l(e,null,[{key:"fromColor4",value:function(t){return new e(t.R,t.G,t.B)}},{key:"parse",value:function(t,n){return e.internalParse(t,!0,n)}},{key:"internalParse",value:function(t,n,a){if(n&&F.default[t]){var r=M.default.internalParse(F.default[t],!1,a);return e.fromColor4(r)}var u=void 0;if(n&&(u=t.match(/^#([0-9a-f]{3})$/i))){var o=u[1];return new e(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15)}if(u=t.match(/^#([0-9a-f]{6})$/i)){var l=u[1];return new e(parseInt(l.substr(0,2),16)/255,parseInt(l.substr(2,2),16)/255,parseInt(l.substr(4,2),16)/255)}var i=t.match(/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i);if(i&&n)return new e(parseInt(i[1],10)/255,parseInt(i[2],10)/255,parseInt(i[3],10)/255);if(!a)throw new Error("Unexpected color string"+t)}},{key:"equals",value:function(t,e){return s.default.__elementEquals(t,e)}}]),l(e,[{key:"toVector",value:function(){return new f.default(this.R,this.G,this.B)}},{key:"toVector4",value:function(t){return"undefined"==typeof t&&(t=0),new d.default(this.R,this.G,this.B,t)}},{key:"equalWith",value:function(t){return e.equals(t,this)}},{key:"toString",value:function(){return"rgb("+Math.round(255*this.R)+", "+Math.round(255*this.G)+", "+Math.round(255*this.B)+")"}},{key:"toDisplayString",value:function(){var t="#";return t+=Math.round(255*this.R).toString(16).toUpperCase(),t+=Math.round(255*this.G).toString(16).toUpperCase(),t+=Math.round(255*this.B).toString(16).toUpperCase(),"Color3("+this.R+", "+this.G+", "+this.B+", "+t+")"}},{key:"R",get:function(){return this.rawElements[0]}},{key:"G",get:function(){return this.rawElements[1]}},{key:"B",get:function(){return this.rawElements[2]}},{key:"ElementCount",get:function(){return 3}}]),e}(s.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(3);e.default={vec2:a.vec2,vec3:a.vec3,vec4:a.vec4,glMatrix:a.glMatrix,mat2d:a.mat2d,mat3:a.mat3,mat4:a.mat4,quat:a.quat}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),o=n(11),l=a(o),i=function(){function t(e,n,a,u){r(this,t),this._left=e,this._top=n,this._width=a,this._height=u}return u(t,null,[{key:"equals",value:function(t,e){return t.Left===e.Left&&t.Right===e.Right&&t.Top===e.Top&&t.Bottom===e.Bottom}},{key:"edgeSizeEquals",value:function(t,e){return t.Width===e.Width&&t.Height===e.Height}}]),u(t,[{key:"contains",value:function(t,e){var n=void 0;return t instanceof l.default?(n=t.X,e=t.Y):n=t,this.Left<=n&&this.Right>=n&&this.Top<=e&&this.Bottom>=e}},{key:"toLocal",value:function(t,e){var n=void 0;return t instanceof l.default?(n=t.X,e=t.Y):n=t,n-=this.Left,e-=this.Top,t instanceof l.default?new l.default(n,e):[n,e]}},{key:"toString",value:function(){return"Rectangle("+this.Left+","+this.Top+"-"+this.Right+","+this.Bottom+")"}},{key:"Left",get:function(){return this._left}},{key:"Right",get:function(){return this.Left+this.Width}},{key:"Top",get:function(){return this._top}},{key:"Bottom",get:function(){return this._top+this._height}},{key:"Width",get:function(){return this._width}},{key:"Height",get:function(){return this._height}}]),t}();e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.clone=function(t){var e=new a.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},r.fromValues=function(t,e,n,r){var u=new a.ARRAY_TYPE(4);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u},r.set=function(t,e,n,a,r){return t[0]=e,t[1]=n,t[2]=a,t[3]=r,t},r.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},r.invert=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=n*u-r*a;return o?(o=1/o,t[0]=u*o,t[1]=-a*o,t[2]=-r*o,t[3]=n*o,t):null},r.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},r.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},r.multiply=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=n[0],i=n[1],s=n[2],c=n[3];return t[0]=a*l+u*i,t[1]=r*l+o*i,t[2]=a*s+u*c,t[3]=r*s+o*c,t},r.mul=r.multiply,r.rotate=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=Math.sin(n),i=Math.cos(n);return t[0]=a*i+u*l,t[1]=r*i+o*l,t[2]=a*-l+u*i,t[3]=r*-l+o*i,t},r.scale=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=n[0],i=n[1];return t[0]=a*l,t[1]=r*l,t[2]=u*i,t[3]=o*i,t},r.fromRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},r.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,n,a){return t[2]=a[2]/a[0],n[0]=a[0],n[1]=a[1],n[3]=a[3]-t[2]*n[1],[t,e,n]},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},r.sub=r.subtract,r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=t[3],l=e[0],i=e[1],s=e[2],c=e[3];return Math.abs(n-l)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-i)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-s)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-c)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))},r.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},r.multiplyScalarAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t[3]=e[3]+n[3]*a,t},t.exports=r},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.clone=function(t){var e=new a.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},r.fromValues=function(t,e,n,r,u,o){var l=new a.ARRAY_TYPE(6);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=u,l[5]=o,l},r.set=function(t,e,n,a,r,u,o){return t[0]=e,t[1]=n,t[2]=a,t[3]=r,t[4]=u,t[5]=o,t},r.invert=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=n*u-a*r;return i?(i=1/i,t[0]=u*i,t[1]=-a*i,t[2]=-r*i,t[3]=n*i,t[4]=(r*l-u*o)*i,t[5]=(a*o-n*l)*i,t):null},r.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},r.multiply=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=n[0],c=n[1],f=n[2],h=n[3],M=n[4],m=n[5];return t[0]=a*s+u*c,t[1]=r*s+o*c,t[2]=a*f+u*h,t[3]=r*f+o*h,t[4]=a*M+u*m+l,t[5]=r*M+o*m+i,t},r.mul=r.multiply,r.rotate=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=Math.sin(n),c=Math.cos(n);return t[0]=a*c+u*s,t[1]=r*c+o*s,t[2]=a*-s+u*c,t[3]=r*-s+o*c,t[4]=l,t[5]=i,t},r.scale=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=n[0],c=n[1];return t[0]=a*s,t[1]=r*s,t[2]=u*c,t[3]=o*c,t[4]=l,t[5]=i,t},r.translate=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=n[0],c=n[1];return t[0]=a,t[1]=r,t[2]=u,t[3]=o,t[4]=a*s+u*c+l,t[5]=r*s+o*c+i,t},r.fromRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t[4]=0,t[5]=0,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},r.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},r.multiplyScalarAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t[3]=e[3]+n[3]*a,t[4]=e[4]+n[4]*a,t[5]=e[5]+n[5]*a,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=t[3],l=t[4],i=t[5],s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],m=e[5];return Math.abs(n-s)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-c)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(u-f)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(o-h)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(l-M)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(i-m)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))},t.exports=r},function(t,e,n){var a=n(1),r={scalar:{},SIMD:{}};r.create=function(){var t=new a.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.clone=function(t){var e=new a.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.fromValues=function(t,e,n,r,u,o,l,i,s,c,f,h,M,m,d,v){var F=new a.ARRAY_TYPE(16);return F[0]=t,F[1]=e,F[2]=n,F[3]=r,F[4]=u,F[5]=o,F[6]=l,F[7]=i,F[8]=s,F[9]=c,F[10]=f,F[11]=h,F[12]=M,F[13]=m,F[14]=d,F[15]=v,F},r.set=function(t,e,n,a,r,u,o,l,i,s,c,f,h,M,m,d,v){return t[0]=e,t[1]=n,t[2]=a,t[3]=r,t[4]=u,t[5]=o,t[6]=l,t[7]=i,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=M,t[13]=m,t[14]=d,t[15]=v,t},r.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.scalar.transpose=function(t,e){if(t===e){var n=e[1],a=e[2],r=e[3],u=e[6],o=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=a,t[9]=u,t[11]=e[14],t[12]=r,t[13]=o,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},r.SIMD.transpose=function(t,e){var n,a,r,u,o,l,i,s,c,f;return n=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),o=SIMD.Float32x4.shuffle(n,a,0,1,4,5),l=SIMD.Float32x4.shuffle(r,u,0,1,4,5),i=SIMD.Float32x4.shuffle(o,l,0,2,4,6),s=SIMD.Float32x4.shuffle(o,l,1,3,5,7),SIMD.Float32x4.store(t,0,i),SIMD.Float32x4.store(t,4,s),o=SIMD.Float32x4.shuffle(n,a,2,3,6,7),l=SIMD.Float32x4.shuffle(r,u,2,3,6,7),c=SIMD.Float32x4.shuffle(o,l,0,2,4,6),f=SIMD.Float32x4.shuffle(o,l,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},r.transpose=a.USE_SIMD?r.SIMD.transpose:r.scalar.transpose,r.scalar.invert=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],d=e[13],v=e[14],F=e[15],y=n*l-a*o,S=n*i-r*o,w=n*s-u*o,x=a*i-r*l,I=a*s-u*l,p=r*s-u*i,D=c*d-f*m,b=c*v-h*m,g=c*F-M*m,E=f*v-h*d,k=f*F-M*d,_=h*F-M*v,A=y*_-S*k+w*E+x*g-I*b+p*D;return A?(A=1/A,t[0]=(l*_-i*k+s*E)*A,t[1]=(r*k-a*_-u*E)*A,t[2]=(d*p-v*I+F*x)*A,t[3]=(h*I-f*p-M*x)*A,t[4]=(i*g-o*_-s*b)*A,t[5]=(n*_-r*g+u*b)*A,t[6]=(v*w-m*p-F*S)*A,t[7]=(c*p-h*w+M*S)*A,t[8]=(o*k-l*g+s*D)*A,t[9]=(a*g-n*k-u*D)*A,t[10]=(m*I-d*w+F*y)*A,t[11]=(f*w-c*I-M*y)*A,t[12]=(l*b-o*E-i*D)*A,t[13]=(n*E-a*b+r*D)*A,t[14]=(d*S-m*x-v*y)*A,t[15]=(c*x-f*S+h*y)*A,t):null},r.SIMD.invert=function(t,e){var n,a,r,u,o,l,i,s,c,f,h=SIMD.Float32x4.load(e,0),M=SIMD.Float32x4.load(e,4),m=SIMD.Float32x4.load(e,8),d=SIMD.Float32x4.load(e,12);return o=SIMD.Float32x4.shuffle(h,M,0,1,4,5),a=SIMD.Float32x4.shuffle(m,d,0,1,4,5),n=SIMD.Float32x4.shuffle(o,a,0,2,4,6),a=SIMD.Float32x4.shuffle(a,o,1,3,5,7),o=SIMD.Float32x4.shuffle(h,M,2,3,6,7),
u=SIMD.Float32x4.shuffle(m,d,2,3,6,7),r=SIMD.Float32x4.shuffle(o,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,o,1,3,5,7),o=SIMD.Float32x4.mul(r,u),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),l),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),o=SIMD.Float32x4.mul(a,r),o=SIMD.Float32x4.swizzle(o,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),l),c=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(u,o)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),o=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(a,2,3,0,1),u),o=SIMD.Float32x4.swizzle(o,1,0,3,2),r=SIMD.Float32x4.swizzle(r,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),l),s=SIMD.Float32x4.mul(n,o),o=SIMD.Float32x4.swizzle(o,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,o)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,o),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),o=SIMD.Float32x4.mul(n,a),o=SIMD.Float32x4.swizzle(o,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,o),c),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,o),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,o)),o=SIMD.Float32x4.mul(n,u),o=SIMD.Float32x4.swizzle(o,1,0,3,2),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(r,o)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),s),o=SIMD.Float32x4.swizzle(o,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,o),i),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(a,o)),o=SIMD.Float32x4.mul(n,r),o=SIMD.Float32x4.swizzle(o,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,o),i),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(a,o)),o=SIMD.Float32x4.swizzle(o,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(u,o)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,o),c),f=SIMD.Float32x4.mul(n,l),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),o=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(o,o),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(o,o))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,i)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},r.invert=a.USE_SIMD?r.SIMD.invert:r.scalar.invert,r.scalar.adjoint=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=e[4],l=e[5],i=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],d=e[13],v=e[14],F=e[15];return t[0]=l*(h*F-M*v)-f*(i*F-s*v)+d*(i*M-s*h),t[1]=-(a*(h*F-M*v)-f*(r*F-u*v)+d*(r*M-u*h)),t[2]=a*(i*F-s*v)-l*(r*F-u*v)+d*(r*s-u*i),t[3]=-(a*(i*M-s*h)-l*(r*M-u*h)+f*(r*s-u*i)),t[4]=-(o*(h*F-M*v)-c*(i*F-s*v)+m*(i*M-s*h)),t[5]=n*(h*F-M*v)-c*(r*F-u*v)+m*(r*M-u*h),t[6]=-(n*(i*F-s*v)-o*(r*F-u*v)+m*(r*s-u*i)),t[7]=n*(i*M-s*h)-o*(r*M-u*h)+c*(r*s-u*i),t[8]=o*(f*F-M*d)-c*(l*F-s*d)+m*(l*M-s*f),t[9]=-(n*(f*F-M*d)-c*(a*F-u*d)+m*(a*M-u*f)),t[10]=n*(l*F-s*d)-o*(a*F-u*d)+m*(a*s-u*l),t[11]=-(n*(l*M-s*f)-o*(a*M-u*f)+c*(a*s-u*l)),t[12]=-(o*(f*v-h*d)-c*(l*v-i*d)+m*(l*h-i*f)),t[13]=n*(f*v-h*d)-c*(a*v-r*d)+m*(a*h-r*f),t[14]=-(n*(l*v-i*d)-o*(a*v-r*d)+m*(a*i-r*l)),t[15]=n*(l*h-i*f)-o*(a*h-r*f)+c*(a*i-r*l),t},r.SIMD.adjoint=function(t,e){var n,a,r,u,o,l,i,s,c,f,h,M,m;return n=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),r=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),c=SIMD.Float32x4.shuffle(n,a,0,1,4,5),l=SIMD.Float32x4.shuffle(r,u,0,1,4,5),o=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,a,2,3,6,7),s=SIMD.Float32x4.shuffle(r,u,2,3,6,7),i=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(l,c),h=SIMD.Float32x4.mul(o,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(l,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),m=SIMD.Float32x4.mul(o,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,c),m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),f),M=SIMD.Float32x4.mul(o,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(i,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(o,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),m),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.mul(o,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(i,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),h),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(o,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),m),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,m),t},r.adjoint=a.USE_SIMD?r.SIMD.adjoint:r.scalar.adjoint,r.determinant=function(t){var e=t[0],n=t[1],a=t[2],r=t[3],u=t[4],o=t[5],l=t[6],i=t[7],s=t[8],c=t[9],f=t[10],h=t[11],M=t[12],m=t[13],d=t[14],v=t[15],F=e*o-n*u,y=e*l-a*u,S=e*i-r*u,w=n*l-a*o,x=n*i-r*o,I=a*i-r*l,p=s*m-c*M,D=s*d-f*M,b=s*v-h*M,g=c*d-f*m,E=c*v-h*m,k=f*v-h*d;return F*k-y*E+S*g+w*b-x*D+I*p},r.SIMD.multiply=function(t,e,n){var a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),u=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),l=SIMD.Float32x4.load(n,0),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),o))));SIMD.Float32x4.store(t,0,i);var s=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),o))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),o))));SIMD.Float32x4.store(t,8,h);var M=SIMD.Float32x4.load(n,12),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),u),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),o))));return SIMD.Float32x4.store(t,12,m),t},r.scalar.multiply=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],m=e[11],d=e[12],v=e[13],F=e[14],y=e[15],S=n[0],w=n[1],x=n[2],I=n[3];return t[0]=S*a+w*l+x*f+I*d,t[1]=S*r+w*i+x*h+I*v,t[2]=S*u+w*s+x*M+I*F,t[3]=S*o+w*c+x*m+I*y,S=n[4],w=n[5],x=n[6],I=n[7],t[4]=S*a+w*l+x*f+I*d,t[5]=S*r+w*i+x*h+I*v,t[6]=S*u+w*s+x*M+I*F,t[7]=S*o+w*c+x*m+I*y,S=n[8],w=n[9],x=n[10],I=n[11],t[8]=S*a+w*l+x*f+I*d,t[9]=S*r+w*i+x*h+I*v,t[10]=S*u+w*s+x*M+I*F,t[11]=S*o+w*c+x*m+I*y,S=n[12],w=n[13],x=n[14],I=n[15],t[12]=S*a+w*l+x*f+I*d,t[13]=S*r+w*i+x*h+I*v,t[14]=S*u+w*s+x*M+I*F,t[15]=S*o+w*c+x*m+I*y,t},r.multiply=a.USE_SIMD?r.SIMD.multiply:r.scalar.multiply,r.mul=r.multiply,r.scalar.translate=function(t,e,n){var a,r,u,o,l,i,s,c,f,h,M,m,d=n[0],v=n[1],F=n[2];return e===t?(t[12]=e[0]*d+e[4]*v+e[8]*F+e[12],t[13]=e[1]*d+e[5]*v+e[9]*F+e[13],t[14]=e[2]*d+e[6]*v+e[10]*F+e[14],t[15]=e[3]*d+e[7]*v+e[11]*F+e[15]):(a=e[0],r=e[1],u=e[2],o=e[3],l=e[4],i=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],m=e[11],t[0]=a,t[1]=r,t[2]=u,t[3]=o,t[4]=l,t[5]=i,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=m,t[12]=a*d+l*v+f*F+e[12],t[13]=r*d+i*v+h*F+e[13],t[14]=u*d+s*v+M*F+e[14],t[15]=o*d+c*v+m*F+e[15]),t},r.SIMD.translate=function(t,e,n){var a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),u=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),l=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(l,0,0,0,0)),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(l,1,1,1,1)),u=SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(l,2,2,2,2));var i=SIMD.Float32x4.add(a,SIMD.Float32x4.add(r,SIMD.Float32x4.add(u,o)));return SIMD.Float32x4.store(t,12,i),t},r.translate=a.USE_SIMD?r.SIMD.translate:r.scalar.translate,r.scalar.scale=function(t,e,n){var a=n[0],r=n[1],u=n[2];return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*u,t[9]=e[9]*u,t[10]=e[10]*u,t[11]=e[11]*u,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.SIMD.scale=function(t,e,n){var a,r,u,o=SIMD.Float32x4(n[0],n[1],n[2],0);return a=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(o,0,0,0,0))),r=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(o,1,1,1,1))),u=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(u,SIMD.Float32x4.swizzle(o,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},r.scale=a.USE_SIMD?r.SIMD.scale:r.scalar.scale,r.rotate=function(t,e,n,r){var u,o,l,i,s,c,f,h,M,m,d,v,F,y,S,w,x,I,p,D,b,g,E,k,_=r[0],A=r[1],z=r[2],q=Math.sqrt(_*_+A*A+z*z);return Math.abs(q)<a.EPSILON?null:(q=1/q,_*=q,A*=q,z*=q,u=Math.sin(n),o=Math.cos(n),l=1-o,i=e[0],s=e[1],c=e[2],f=e[3],h=e[4],M=e[5],m=e[6],d=e[7],v=e[8],F=e[9],y=e[10],S=e[11],w=_*_*l+o,x=A*_*l+z*u,I=z*_*l-A*u,p=_*A*l-z*u,D=A*A*l+o,b=z*A*l+_*u,g=_*z*l+A*u,E=A*z*l-_*u,k=z*z*l+o,t[0]=i*w+h*x+v*I,t[1]=s*w+M*x+F*I,t[2]=c*w+m*x+y*I,t[3]=f*w+d*x+S*I,t[4]=i*p+h*D+v*b,t[5]=s*p+M*D+F*b,t[6]=c*p+m*D+y*b,t[7]=f*p+d*D+S*b,t[8]=i*g+h*E+v*k,t[9]=s*g+M*E+F*k,t[10]=c*g+m*E+y*k,t[11]=f*g+d*E+S*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},r.scalar.rotateX=function(t,e,n){var a=Math.sin(n),r=Math.cos(n),u=e[4],o=e[5],l=e[6],i=e[7],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=u*r+s*a,t[5]=o*r+c*a,t[6]=l*r+f*a,t[7]=i*r+h*a,t[8]=s*r-u*a,t[9]=c*r-o*a,t[10]=f*r-l*a,t[11]=h*r-i*a,t},r.SIMD.rotateX=function(t,e,n){var a=SIMD.Float32x4.splat(Math.sin(n)),r=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var u=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(o,a))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,a))),t},r.rotateX=a.USE_SIMD?r.SIMD.rotateX:r.scalar.rotateX,r.scalar.rotateY=function(t,e,n){var a=Math.sin(n),r=Math.cos(n),u=e[0],o=e[1],l=e[2],i=e[3],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=u*r-s*a,t[1]=o*r-c*a,t[2]=l*r-f*a,t[3]=i*r-h*a,t[8]=u*a+s*r,t[9]=o*a+c*r,t[10]=l*a+f*r,t[11]=i*a+h*r,t},r.SIMD.rotateY=function(t,e,n){var a=SIMD.Float32x4.splat(Math.sin(n)),r=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var u=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(o,a))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,a),SIMD.Float32x4.mul(o,r))),t},r.rotateY=a.USE_SIMD?r.SIMD.rotateY:r.scalar.rotateY,r.scalar.rotateZ=function(t,e,n){var a=Math.sin(n),r=Math.cos(n),u=e[0],o=e[1],l=e[2],i=e[3],s=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=u*r+s*a,t[1]=o*r+c*a,t[2]=l*r+f*a,t[3]=i*r+h*a,t[4]=s*r-u*a,t[5]=c*r-o*a,t[6]=f*r-l*a,t[7]=h*r-i*a,t},r.SIMD.rotateZ=function(t,e,n){var a=SIMD.Float32x4.splat(Math.sin(n)),r=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var u=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(u,r),SIMD.Float32x4.mul(o,a))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,a))),t},r.rotateZ=a.USE_SIMD?r.SIMD.rotateZ:r.scalar.rotateZ,r.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},r.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotation=function(t,e,n){var r,u,o,l=n[0],i=n[1],s=n[2],c=Math.sqrt(l*l+i*i+s*s);return Math.abs(c)<a.EPSILON?null:(c=1/c,l*=c,i*=c,s*=c,r=Math.sin(e),u=Math.cos(e),o=1-u,t[0]=l*l*o+u,t[1]=i*l*o+s*r,t[2]=s*l*o-i*r,t[3]=0,t[4]=l*i*o-s*r,t[5]=i*i*o+u,t[6]=s*i*o+l*r,t[7]=0,t[8]=l*s*o+i*r,t[9]=i*s*o-l*r,t[10]=s*s*o+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},r.fromXRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromYRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromZRotation=function(t,e){var n=Math.sin(e),a=Math.cos(e);return t[0]=a,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.fromRotationTranslation=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=a+a,i=r+r,s=u+u,c=a*l,f=a*i,h=a*s,M=r*i,m=r*s,d=u*s,v=o*l,F=o*i,y=o*s;return t[0]=1-(M+d),t[1]=f+y,t[2]=h-F,t[3]=0,t[4]=f-y,t[5]=1-(c+d),t[6]=m+v,t[7]=0,t[8]=h+F,t[9]=m-v,t[10]=1-(c+M),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},r.getScaling=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[4],o=e[5],l=e[6],i=e[8],s=e[9],c=e[10];return t[0]=Math.sqrt(n*n+a*a+r*r),t[1]=Math.sqrt(u*u+o*o+l*l),t[2]=Math.sqrt(i*i+s*s+c*c),t},r.getRotation=function(t,e){var n=e[0]+e[5]+e[10],a=0;return n>0?(a=2*Math.sqrt(n+1),t[3]=.25*a,t[0]=(e[6]-e[9])/a,t[1]=(e[8]-e[2])/a,t[2]=(e[1]-e[4])/a):e[0]>e[5]&e[0]>e[10]?(a=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/a,t[0]=.25*a,t[1]=(e[1]+e[4])/a,t[2]=(e[8]+e[2])/a):e[5]>e[10]?(a=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/a,t[0]=(e[1]+e[4])/a,t[1]=.25*a,t[2]=(e[6]+e[9])/a):(a=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/a,t[0]=(e[8]+e[2])/a,t[1]=(e[6]+e[9])/a,t[2]=.25*a),t},r.fromRotationTranslationScale=function(t,e,n,a){var r=e[0],u=e[1],o=e[2],l=e[3],i=r+r,s=u+u,c=o+o,f=r*i,h=r*s,M=r*c,m=u*s,d=u*c,v=o*c,F=l*i,y=l*s,S=l*c,w=a[0],x=a[1],I=a[2];return t[0]=(1-(m+v))*w,t[1]=(h+S)*w,t[2]=(M-y)*w,t[3]=0,t[4]=(h-S)*x,t[5]=(1-(f+v))*x,t[6]=(d+F)*x,t[7]=0,t[8]=(M+y)*I,t[9]=(d-F)*I,t[10]=(1-(f+m))*I,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},r.fromRotationTranslationScaleOrigin=function(t,e,n,a,r){var u=e[0],o=e[1],l=e[2],i=e[3],s=u+u,c=o+o,f=l+l,h=u*s,M=u*c,m=u*f,d=o*c,v=o*f,F=l*f,y=i*s,S=i*c,w=i*f,x=a[0],I=a[1],p=a[2],D=r[0],b=r[1],g=r[2];return t[0]=(1-(d+F))*x,t[1]=(M+w)*x,t[2]=(m-S)*x,t[3]=0,t[4]=(M-w)*I,t[5]=(1-(h+F))*I,t[6]=(v+y)*I,t[7]=0,t[8]=(m+S)*p,t[9]=(v-y)*p,t[10]=(1-(h+d))*p,t[11]=0,t[12]=n[0]+D-(t[0]*D+t[4]*b+t[8]*g),t[13]=n[1]+b-(t[1]*D+t[5]*b+t[9]*g),t[14]=n[2]+g-(t[2]*D+t[6]*b+t[10]*g),t[15]=1,t},r.fromQuat=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=n+n,l=a+a,i=r+r,s=n*o,c=a*o,f=a*l,h=r*o,M=r*l,m=r*i,d=u*o,v=u*l,F=u*i;return t[0]=1-f-m,t[1]=c+F,t[2]=h-v,t[3]=0,t[4]=c-F,t[5]=1-s-m,t[6]=M+d,t[7]=0,t[8]=h+v,t[9]=M-d,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.frustum=function(t,e,n,a,r,u,o){var l=1/(n-e),i=1/(r-a),s=1/(u-o);return t[0]=2*u*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*i,t[6]=0,t[7]=0,t[8]=(n+e)*l,t[9]=(r+a)*i,t[10]=(o+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*u*2*s,t[15]=0,t},r.perspective=function(t,e,n,a,r){var u=1/Math.tan(e/2),o=1/(a-r);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+a)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*a*o,t[15]=0,t},r.perspectiveFromFieldOfView=function(t,e,n,a){var r=Math.tan(e.upDegrees*Math.PI/180),u=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),l=Math.tan(e.rightDegrees*Math.PI/180),i=2/(o+l),s=2/(r+u);return t[0]=i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((o-l)*i*.5),t[9]=(r-u)*s*.5,t[10]=a/(n-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*n/(n-a),t[15]=0,t},r.ortho=function(t,e,n,a,r,u,o){var l=1/(e-n),i=1/(a-r),s=1/(u-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+n)*l,t[13]=(r+a)*i,t[14]=(o+u)*s,t[15]=1,t},r.lookAt=function(t,e,n,u){var o,l,i,s,c,f,h,M,m,d,v=e[0],F=e[1],y=e[2],S=u[0],w=u[1],x=u[2],I=n[0],p=n[1],D=n[2];return Math.abs(v-I)<a.EPSILON&&Math.abs(F-p)<a.EPSILON&&Math.abs(y-D)<a.EPSILON?r.identity(t):(h=v-I,M=F-p,m=y-D,d=1/Math.sqrt(h*h+M*M+m*m),h*=d,M*=d,m*=d,o=w*m-x*M,l=x*h-S*m,i=S*M-w*h,d=Math.sqrt(o*o+l*l+i*i),d?(d=1/d,o*=d,l*=d,i*=d):(o=0,l=0,i=0),s=M*i-m*l,c=m*o-h*i,f=h*l-M*o,d=Math.sqrt(s*s+c*c+f*f),d?(d=1/d,s*=d,c*=d,f*=d):(s=0,c=0,f=0),t[0]=o,t[1]=s,t[2]=h,t[3]=0,t[4]=l,t[5]=c,t[6]=M,t[7]=0,t[8]=i,t[9]=f,t[10]=m,t[11]=0,t[12]=-(o*v+l*F+i*y),t[13]=-(s*v+c*F+f*y),t[14]=-(h*v+M*F+m*y),t[15]=1,t)},r.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},r.sub=r.subtract,r.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},r.multiplyScalarAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t[2]=e[2]+n[2]*a,t[3]=e[3]+n[3]*a,t[4]=e[4]+n[4]*a,t[5]=e[5]+n[5]*a,t[6]=e[6]+n[6]*a,t[7]=e[7]+n[7]*a,t[8]=e[8]+n[8]*a,t[9]=e[9]+n[9]*a,t[10]=e[10]+n[10]*a,t[11]=e[11]+n[11]*a,t[12]=e[12]+n[12]*a,t[13]=e[13]+n[13]*a,t[14]=e[14]+n[14]*a,t[15]=e[15]+n[15]*a,t},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},r.equals=function(t,e){var n=t[0],r=t[1],u=t[2],o=t[3],l=t[4],i=t[5],s=t[6],c=t[7],f=t[8],h=t[9],M=t[10],m=t[11],d=t[12],v=t[13],F=t[14],y=t[15],S=e[0],w=e[1],x=e[2],I=e[3],p=e[4],D=e[5],b=e[6],g=e[7],E=e[8],k=e[9],_=e[10],A=e[11],z=e[12],q=e[13],P=e[14],O=e[15];return Math.abs(n-S)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-w)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(u-x)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(o-I)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(l-p)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(i-D)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(D))&&Math.abs(s-b)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-g)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-E)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-k)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(M-_)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(m-A)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(d-z)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(v-q)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(q))&&Math.abs(F-P)<=a.EPSILON*Math.max(1,Math.abs(F),Math.abs(P))&&Math.abs(y-O)<=a.EPSILON*Math.max(1,Math.abs(y),Math.abs(O))},t.exports=r},function(t,e,n){var a=n(1),r=n(12),u=n(13),o=n(14),l={};l.create=function(){var t=new a.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.rotationTo=function(){var t=u.create(),e=u.fromValues(1,0,0),n=u.fromValues(0,1,0);return function(a,r,o){var i=u.dot(r,o);return i<-.999999?(u.cross(t,e,r),u.length(t)<1e-6&&u.cross(t,n,r),u.normalize(t,t),l.setAxisAngle(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(u.cross(t,r,o),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,l.normalize(a,a))}}(),l.setAxes=function(){var t=r.create();return function(e,n,a,r){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],l.normalize(e,l.fromMat3(e,t))}}(),l.clone=o.clone,l.fromValues=o.fromValues,l.copy=o.copy,l.set=o.set,l.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},l.setAxisAngle=function(t,e,n){n*=.5;var a=Math.sin(n);return t[0]=a*e[0],t[1]=a*e[1],t[2]=a*e[2],t[3]=Math.cos(n),t},l.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),a=Math.sin(n/2);return 0!=a?(t[0]=e[0]/a,t[1]=e[1]/a,t[2]=e[2]/a):(t[0]=1,t[1]=0,t[2]=0),n},l.add=o.add,l.multiply=function(t,e,n){var a=e[0],r=e[1],u=e[2],o=e[3],l=n[0],i=n[1],s=n[2],c=n[3];return t[0]=a*c+o*l+r*s-u*i,t[1]=r*c+o*i+u*l-a*s,t[2]=u*c+o*s+a*i-r*l,t[3]=o*c-a*l-r*i-u*s,t},l.mul=l.multiply,l.scale=o.scale,l.rotateX=function(t,e,n){n*=.5;var a=e[0],r=e[1],u=e[2],o=e[3],l=Math.sin(n),i=Math.cos(n);return t[0]=a*i+o*l,t[1]=r*i+u*l,t[2]=u*i-r*l,t[3]=o*i-a*l,t},l.rotateY=function(t,e,n){n*=.5;var a=e[0],r=e[1],u=e[2],o=e[3],l=Math.sin(n),i=Math.cos(n);return t[0]=a*i-u*l,t[1]=r*i+o*l,t[2]=u*i+a*l,t[3]=o*i-r*l,t},l.rotateZ=function(t,e,n){n*=.5;var a=e[0],r=e[1],u=e[2],o=e[3],l=Math.sin(n),i=Math.cos(n);return t[0]=a*i+r*l,t[1]=r*i-a*l,t[2]=u*i+o*l,t[3]=o*i-u*l,t},l.calculateW=function(t,e){var n=e[0],a=e[1],r=e[2];return t[0]=n,t[1]=a,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-a*a-r*r)),t},l.dot=o.dot,l.lerp=o.lerp,l.slerp=function(t,e,n,a){var r,u,o,l,i,s=e[0],c=e[1],f=e[2],h=e[3],M=n[0],m=n[1],d=n[2],v=n[3];return u=s*M+c*m+f*d+h*v,u<0&&(u=-u,M=-M,m=-m,d=-d,v=-v),1-u>1e-6?(r=Math.acos(u),o=Math.sin(r),l=Math.sin((1-a)*r)/o,i=Math.sin(a*r)/o):(l=1-a,i=a),t[0]=l*s+i*M,t[1]=l*c+i*m,t[2]=l*f+i*d,t[3]=l*h+i*v,t},l.sqlerp=function(){var t=l.create(),e=l.create();return function(n,a,r,u,o,i){return l.slerp(t,a,o,i),l.slerp(e,r,u,i),l.slerp(n,t,e,2*i*(1-i)),n}}(),l.invert=function(t,e){var n=e[0],a=e[1],r=e[2],u=e[3],o=n*n+a*a+r*r+u*u,l=o?1/o:0;return t[0]=-n*l,t[1]=-a*l,t[2]=-r*l,t[3]=u*l,t},l.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},l.length=o.length,l.len=l.length,l.squaredLength=o.squaredLength,l.sqrLen=l.squaredLength,l.normalize=o.normalize,l.fromMat3=function(t,e){var n,a=e[0]+e[4]+e[8];if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var u=(r+1)%3,o=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*u+u]-e[3*o+o]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*u+o]-e[3*o+u])*n,t[u]=(e[3*u+r]+e[3*r+u])*n,t[o]=(e[3*o+r]+e[3*r+o])*n}return t},l.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},l.exactEquals=o.exactEquals,l.equals=o.equals,t.exports=l},function(t,e,n){var a=n(1),r={};r.create=function(){var t=new a.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new a.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},r.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t},r.distance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(n*n+a*a)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],a=e[1]-t[1];return n*n+a*a},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var n=e[0],a=e[1],r=n*n+a*a;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var a=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=a,t},r.lerp=function(t,e,n,a){var r=e[0],u=e[1];return t[0]=r+a*(n[0]-r),t[1]=u+a*(n[1]-u),t},r.random=function(t,e){e=e||1;var n=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var a=e[0],r=e[1];return t[0]=n[0]*a+n[2]*r,t[1]=n[1]*a+n[3]*r,t},r.transformMat2d=function(t,e,n){var a=e[0],r=e[1];return t[0]=n[0]*a+n[2]*r+n[4],t[1]=n[1]*a+n[3]*r+n[5],t},r.transformMat3=function(t,e,n){var a=e[0],r=e[1];return t[0]=n[0]*a+n[3]*r+n[6],t[1]=n[1]*a+n[4]*r+n[7],t},r.transformMat4=function(t,e,n){var a=e[0],r=e[1];return t[0]=n[0]*a+n[4]*r+n[12],t[1]=n[1]*a+n[5]*r+n[13],t},r.forEach=function(){var t=r.create();return function(e,n,a,r,u,o){var l,i;for(n||(n=2),a||(a=0),i=r?Math.min(r*n+a,e.length):e.length,l=a;l<i;l+=n)t[0]=e[l],t[1]=e[l+1],u(t,t,o),e[l]=t[0],e[l+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r.equals=function(t,e){var n=t[0],r=t[1],u=e[0],o=e[1];return Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))},t.exports=r}])});
//# sourceMappingURL=grimoire-math.min.js.map
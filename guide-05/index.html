<!DOCTYPE html>
<html>

<head>
  <script src="https://unpkg.com/grimoirejs-preset-basic/register/grimoire-preset-basic.js"></script>
</head>

<body>
  <script type="text/goml" id="canvas1">
    <goml>
      <scene>
        <camera/>
        <mesh color="red" position="0,0,0" geometry="cube">
          <mesh.components>
            <Rotate/>
          </mesh.components>
        </mesh>
      </scene>
    </goml>
  </script>
  <script type="text/javascript">
    gr.registerComponent("Rotate",{
      attributes:{
        speed:
        {
          default:1,
          converter:"Number"
        }
      },
      $mount:function(){
        this.phi = 0;
      },
      $update:function(){
        this.phi += this.getValue("speed");
        this.node.setAttribute("rotation",this.phi + "," + this.phi + "," + this.phi);
      }
    })
  </script>
</body>

</html>
